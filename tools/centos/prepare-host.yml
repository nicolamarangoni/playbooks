- hosts: '{{ host }}'
  tasks:
    - name: configure nodejs repository
      get_url:
        url: https://rpm.nodesource.com/setup_10.x
        dest: '~'
    - name: Prepare nodejs installation
      command: sh ~/setup_10.x
    - name: install common tools
      yum:
        state: latest
        name:
          - epel-release
          - centos-release-scl
    - name: install common tools
      yum:
        state: latest
        name:
          - net-tools
          - nmap-ncat
          - socat
          - gcc-c++
          - make
          - wget
          - rh-python36
          - java
          - MySQL-python
          - nodejs
          - ansible
    - name: enable python3
      command: scl enable rh-python36 bash
    - name: stop firewall
      systemd:
        name: firewalld
        enabled: no
        state: stopped
    - name: Disable SELinux
      ini_file:
        dest: /etc/selinux/config
        section: ''
        option: SELINUX
        value: disabled
